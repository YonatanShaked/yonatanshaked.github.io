</main>

<footer class="site-footer">
  <p>
    <a href="#" id="themeToggle" onclick="toggleTheme(); return false;">Change theme</a>
  </p>

  <p>
    by Yonatan Shaked. Last built {{ now.Format "02/01/2006" }}.
  </p>

  <p>
    Built with <a href="https://gohugo.io" target="_blank" rel="noopener noreferrer">Hugo</a>. 
    View the source code <a href="https://github.com/yonatanshaked/yonatanshaked.github.io" target="_blank" rel="noopener noreferrer">on GitHub</a>.
  </p>

  <ul class="menu menu-social">
    {{ range.Site.Menus.social -}}
    <li>
      <a href="{{ .URL }}" target="_blank" rel="noopener noreferrer">
        {{ partial "icon.html" (dict "icon" .Pre "title" .Name ) }}
      </a>
    </li>
    {{- end }}
  </ul>

<script>
(function () {
  const body = document.body;
  const savedTheme = localStorage.getItem('theme');
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

  // Default to dark
  const activeTheme = savedTheme || (prefersDark ? 'dark' : 'dark');
  if (activeTheme === 'dark') body.classList.add('dark');

  const themeToggle = document.getElementById('themeToggle');

  function updateToggleText(isDark) {
    if (!themeToggle) return;
    themeToggle.textContent = isDark
      ? 'Change theme to light mode ðŸŒž'
      : 'Change theme to dark mode ðŸŒš';
  }

  updateToggleText(body.classList.contains('dark'));

  window.toggleTheme = function () {
    const isDark = body.classList.toggle('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
    updateToggleText(isDark);
  };
})();
</script>

</footer>

</body>
</html>
